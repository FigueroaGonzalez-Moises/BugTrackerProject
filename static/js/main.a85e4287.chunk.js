(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{116:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ManageRoles}));var F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(117),F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_generated_graphql__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),ManageRoles=function ManageRoles(){var _useGetUsersQuery=Object(_generated_graphql__WEBPACK_IMPORTED_MODULE_6__.r)(),data=_useGetUsersQuery.data,loading=_useGetUsersQuery.loading,_useUpdateRoleMutatio=Object(_generated_graphql__WEBPACK_IMPORTED_MODULE_6__.F)(),_useUpdateRoleMutatio2=Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useUpdateRoleMutatio,1),updateRole=_useUpdateRoleMutatio2[0],_useDeleteUserMutatio=Object(_generated_graphql__WEBPACK_IMPORTED_MODULE_6__.f)(),_useDeleteUserMutatio2=Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useDeleteUserMutatio,1),DELETEUSER=_useDeleteUserMutatio2[0],_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({paginationLower:"1",paginationUpper:"1",limit:"4"}),_useState2=Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),state=_useState2[0],setState=_useState2[1];if(Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)})),loading||!data)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"progress"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"indeterminate"}));var setRole=function(){var e=Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t,a){var n,r,l;return F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,r=n.value,(l="".concat(data.getUsers[a].id))&&r){e.next=6;break}e.next=9;break;case 6:return e.next=8,updateRole({variables:{role:r,id:l}});case 8:window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pagination=function(e){var t,a=e.target.id,n=document.getElementsByClassName("pag-active"),r=Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(n);try{for(r.s();!(t=r.n()).done;){var l=t.value;l.classList.remove("active"),l.classList.remove("pag-active")}}catch(c){r.e(c)}finally{r.f()}document.getElementById("".concat(a,"li"))&&(document.getElementById("".concat(a,"li")).classList.add("active"),document.getElementById("".concat(a,"li")).classList.add("pag-active")),setState(Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{paginationLower:a,paginationUpper:a}))},deleteUser=function(){var e=Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var a,n;return F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.name,e.next=4,DELETEUSER({variables:{userid:n}});case 4:e.sent?window.location.reload():M.toast({html:"Error occurred while deleting user"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"center-align table-wrapper"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"table-header z-depth-2"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",{className:"white-text"},"Manage Roles")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"table-body z-depth-1"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("th",null,"UserName"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("th",{className:"nonessen"},"Email"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("th",{className:"nonessen"},"Role"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("th",{className:"nonessen"},"First Name"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("th",{className:"nonessen"},"Last Name"))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("tbody",null,data.getUsers.map((function(_val,i){return eval("(".concat(state.paginationLower," - 1) *").concat(state.limit))<i&&i<=eval("".concat(state.paginationUpper,"*").concat(state.limit))?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("tr",{key:i},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,data.getUsers[i].username),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",{className:"nonessen"},data.getUsers[i].email),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"input-field col s12"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("select",{className:"browser-default capitalize"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("option",{value:"",className:"capitalize",disabled:!0,selected:!0},data.getUsers[i].role),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("option",{value:"admin",onClick:function(e){setRole(e,i)}},"  Admin "),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("option",{value:"developer",onClick:function(e){setRole(e,i)}},"  Developer "),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("option",{value:"project-manager",onClick:function(e){setRole(e,i)}},"  Project-manager ")))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",{className:"nonessen"},data.getUsers[i].firstname),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",{className:"nonessen"},data.getUsers[i].lastname),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{name:"".concat(data.getUsers[i].id),onClick:function(e){deleteUser(e)}},"Delete"))):null})))),"Page Limit:",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{className:"browser-default pagination-input",id:"email_inline",type:"number",min:"1",max:"100",value:state.limit,onChange:function(e){setState(Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(F_graphql_bug_tracker_front_end_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{limit:e.target.value}))}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul",{className:"pagination noselect"},data.getUsers.map((function(_val,i){return i-1<eval("".concat(data.getUsers.length,"/").concat(state.limit))?1===i?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{key:i,className:"active pag-active",id:"".concat(i,"li")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{id:"".concat(i),onClick:function(e){pagination(e)}},i)):0!==i?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{key:i,id:"".concat(i,"li")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{id:"".concat(i),onClick:function(e){pagination(e)}},i)):void 0:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null)}))))))}},122:function(e,t,a){e.exports=a(244)},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);a(123);var n=a(0),r=a.n(n),l=a(62),c=a.n(l),s=a(22),i="",o=function(e){i=e},m=function(){return i},d=a(8),u=a.n(d),E=a(12),p=a(7),_=a(5),b=a(29),f=a(18),v=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),s=Object(p.a)(c,2),i=s[0],m=s[1],d=Object(_.s)(),b=Object(p.a)(d,1)[0],f=Object(_.g)(),v=Object(p.a)(f,1)[0];Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e)}));var g=function(){var e=Object(E.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.length>1&&i.length>1)){e.next=9;break}return e.next=4,b({variables:{email:a,password:i}});case 4:(n=e.sent)&&n.data&&o(n.data.login.accessToken),window.location.reload(),e.next=10;break;case 9:i.length<1&&a.length<1?(document.getElementById("password").classList.add("invalid"),document.getElementById("email").classList.add("invalid")):i.length<1&&document.getElementById("password").classList.add("invalid");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(E.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v({variables:{role:a}});case 3:(n=e.sent)&&n.data&&o(n.data.demoLogin.accessToken);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"loginPageWrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"login-header z-depth-2"},r.a.createElement("h2",{className:"white-text"},"Login")),r.a.createElement("div",{className:"table-body z-depth-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"email",type:"email",className:"validate",value:a,onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a valid email"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"password",type:"password",className:"validate",value:i,onChange:function(e){return m(e.target.value)}}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a valid password"}))),r.a.createElement("span",{className:"buttons"},r.a.createElement("a",{href:"/login"},r.a.createElement("button",{type:"button",className:"btn stretched mb authAction",onClick:function(e){return g(e)}},"Login")),r.a.createElement("span",{className:"centered mb"},r.a.createElement("span",null,"OR")),r.a.createElement("button",{type:"submit",className:"btn stretched mb authAction",onClick:function(){document.getElementById("dd").classList.remove("hide")}},"Demo User"),r.a.createElement("span",{className:"dropdown-trigger btn stretched manage-dropdown hide",id:"dd","data-target":"dropdownRole"},"Role"),r.a.createElement("ul",{id:"dropdownRole",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",onClick:function(e){l("demo@demo.com"),m("demoPassword"),h(e,"admin")}},"Admin")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",onClick:function(e){l("demo@demo.com"),m("demoPassword"),h(e,"developer")}},"Developer")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",onClick:function(e){l("demo@demo.com"),m("demoPassword"),h(e,"project-manager")}},"Project Manager"))),r.a.createElement("span",{className:"centered mb"},r.a.createElement("span",null,"OR")),r.a.createElement("span",{className:"centered"},r.a.createElement("div",null,r.a.createElement("u",null,r.a.createElement("a",{href:"/register"},"Sign Up Here")))))))))},g=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(p.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)(""),o=Object(p.a)(i,2),m=o[0],d=o[1],b=Object(n.useState)(""),f=Object(p.a)(b,2),v=f[0],g=f[1],h=Object(n.useState)(""),N=Object(p.a)(h,2),O=N[0],j=N[1],y=Object(n.useState)(""),k=Object(p.a)(y,2),w=k[0],T=k[1],D=Object(n.useState)(""),P=Object(p.a)(D,2),B=P[0],I=P[1],S=Object(_.u)(),C=Object(p.a)(S,1)[0];Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e)}));var L=function(){var e=Object(E.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length>1&&m.length>1&&v.length>1&&O.length>1&&w.length>1)){e.next=7;break}return e.next=3,C({variables:{email:c,password:m,username:v,role:B,firstname:O,lastname:w}});case 3:t.push("/"),window.location.reload(),e.next=12;break;case 7:c.length<1&&document.getElementById("email").classList.add("invalid"),m.length<1&&document.getElementById("password").classList.add("invalid"),v.length<1&&document.getElementById("username").classList.add("invalid"),O.length<1&&document.getElementById("firstname").classList.add("invalid"),w.length<1&&document.getElementById("lastname").classList.add("invalid");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"loginPageWrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text"},"Sign Up")),r.a.createElement("div",{className:"table-body z-depth-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field "},r.a.createElement("input",{id:"email",type:"email",className:"validate",value:c,onChange:function(e){return s(e.target.value)}}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a valid email"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field "},r.a.createElement("input",{id:"password",type:"password",className:"validate",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a password"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6 m6 l6 xl6"},r.a.createElement("input",{id:"username",type:"text",className:"validate",value:v,onChange:function(e){return g(e.target.value)}}),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a username"})),r.a.createElement("div",{className:"input field col s6 m6 l6 xl6"},r.a.createElement("span",{className:"dropdown-trigger btn manage-dropdown",id:"roleDD","data-target":"dropdownRole"},"Role"),r.a.createElement("ul",{id:"dropdownRole",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"admin",onClick:function(e){var t=e.target.name;I(t)}},"Admin")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"developer",onClick:function(e){var t=e.target.name;I(t)}},"Developer")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"project-manager",onClick:function(e){var t=e.target.name;I(t)}},"Project Manager"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6 m6 l6 xl6"},r.a.createElement("input",{id:"firstname",type:"text",className:"validate",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement("label",{htmlFor:"firstname"},"First Name"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter your first name"})),r.a.createElement("div",{className:"input-field col s6 m6 l6 xl6"},r.a.createElement("input",{id:"lastname",type:"text",className:"validate",value:w,onChange:function(e){return T(e.target.value)}}),r.a.createElement("label",{htmlFor:"lastname"},"Last Name"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter your last name "}))),r.a.createElement("span",{className:"buttons"},r.a.createElement("button",{className:"btn stretched mb authAction",onClick:function(e){return L()}},"Register"),r.a.createElement("span",{className:"centered mb"},r.a.createElement("span",null,"OR")),r.a.createElement("a",{href:"/login"},r.a.createElement("button",{type:"button",className:"btn stretched mb authAction"},"Login Here")))))))},h=(a(136),a(20)),N=a(72),O=a.n(N),j=function(){var e=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}}));return Object(n.useEffect)((function(){var t=window.location.pathname;switch(document.getElementById("tickets").classList.remove("active"),document.getElementById("projects").classList.remove("active"),"project-manager"!==e.role&&"admin"!==e.role||document.getElementById("man-projects").classList.remove("active"),"admin"===e.role&&document.getElementById("man-roles").classList.remove("active"),document.getElementById("dashboard").classList.remove("active"),t){case"/tickets":document.getElementById("tickets").classList.add("active"),document.getElementById("mobile-tickets").classList.add("active");break;case"/projects":document.getElementById("projects").classList.add("active"),document.getElementById("mobile-projects").classList.add("active");break;case"/manage-projects":document.getElementById("man-projects").classList.add("active"),document.getElementById("mobile-man-projects").classList.add("active");break;case"/manage-roles":document.getElementById("man-roles").classList.add("active"),document.getElementById("mobile-man-roles").classList.add("active");break;case"/dashboard":document.getElementById("dashboard").classList.add("active"),document.getElementById("mobile-dashboard").classList.add("active")}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"collection"},r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement("img",{src:O.a,className:"circle noselect",alt:""}),r.a.createElement("span",{className:"title noselect"},r.a.createElement("b",null,"Welcome, ",e.username)),r.a.createElement("p",null," ",e.email," ",r.a.createElement("br",null),r.a.createElement("span",{className:"noselect capitalize"},"Current Role: ",e.role)))),r.a.createElement("div",{className:"divider"}),r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/dashboard",className:"navLink",id:"dashboard"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"dashboard")," ",r.a.createElement("span",{className:"left"},"Dashboard")))),"admin"===e.role?r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/manage-roles",className:"navLink",id:"man-roles"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"people_outline"),r.a.createElement("span",{className:"left"},"Manage Roles")))):null,"admin"===e.role||"project-manager"===e.role?r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/manage-projects",className:"navLink",id:"man-projects"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"people"),r.a.createElement("span",{className:"left"},"Manage Projects")))):null,r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/projects",className:"navLink",id:"projects"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"widgets"),r.a.createElement("span",{className:"left"},"My Projects")))),r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/tickets",className:"navLink",id:"tickets"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"local_offer"),r.a.createElement("span",{className:"left"},"My Tickets")))))},y=function(){var e=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"collection"},r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement("img",{src:O.a,className:"circle noselect",alt:""}),r.a.createElement("span",{className:"title noselect"},r.a.createElement("b",null,"Welcome, ",e.username)),r.a.createElement("p",null," ",e.email," ",r.a.createElement("br",null),r.a.createElement("span",{className:"noselect capitalize"},"Current Role: ",e.role)))),r.a.createElement("div",{className:"divider"}),r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/dashboard",className:"navLink",id:"mobile-dashboard"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"dashboard")," ",r.a.createElement("span",{className:"left"},"Dashboard")))),"admin"===e.role?r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/manage-roles",className:"navLink",id:"mobile-man-roles"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"people_outline"),r.a.createElement("span",{className:"left"},"Manage Roles")))):null,"admin"===e.role||"project-manager"===e.role?r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/manage-projects",className:"navLink",id:"mobile-man-projects"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"people"),r.a.createElement("span",{className:"left"},"Manage Projects")))):null,r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/projects",className:"navLink",id:"mobile-projects"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"widgets"),r.a.createElement("span",{className:"left"},"My Projects")))),r.a.createElement("li",{className:"btnli"},r.a.createElement("a",{href:"/tickets",className:"navLink",id:"mobile-tickets"},r.a.createElement("button",{className:"btn"}," ",r.a.createElement("i",{className:"left material-icons"},"local_offer"),r.a.createElement("span",{className:"left"},"My Tickets")))))},k=function(e){var t=e.children,a=Object(_.t)(),l=Object(p.a)(a,2),c=l[0],s=l[1].client;Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e,{hover:!0})}));var i=function(){var e=Object(E.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return o(""),e.next=5,s.resetStore();case 5:window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"navWrapper",className:"navWrapper"},r.a.createElement("span",{id:"NAVBAR",className:"z-depth-4 noselect"},r.a.createElement("ul",{id:"user-actions",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){i()}},"Logout",r.a.createElement("i",{className:"material-icons"},"exit_to_app")))),r.a.createElement("ul",{id:"notifications",className:"dropdown-content"},r.a.createElement("li",null)),r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},r.a.createElement("i",{className:"material-icons"},"bug_report")," ",r.a.createElement("b",null,"Bug Tracker")),r.a.createElement("a",{href:"#","data-target":"slide-out",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger","data-target":"user-actions"},"USER ACTIONS ",r.a.createElement("i",{className:"material-icons right"},"arrow_drop_down"))))))),r.a.createElement("ul",{id:"slide-out",className:"sidenav"},r.a.createElement("span",{id:"MOBILE_SIDENAV",className:"z-depth-4"},r.a.createElement(y,null))),r.a.createElement("span",{id:"SIDENAV",className:"z-depth-4"},r.a.createElement(j,null)),r.a.createElement("span",{id:"CONTENT"},t||null))},w=a(36),T=a.n(w),D=function(){var e=m();if(!e)return!1;try{var t=T()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},P=(D(),a(47)),B=function(e){var t=e.component,a=Object(P.a)(e,["component"]);return r.a.createElement(f.b,Object.assign({},a,{render:function(e){return function(){var e=m();if(!e)return!1;try{var t=T()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}}()?r.a.createElement(t,e):r.a.createElement(f.a,{to:"/dashboard"})}}))},I=function(e){var t=e.component,a=e.user,n=Object(P.a)(e,["component","user"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return function(e){var t=m();if(!t)return!1;try{var a=T()(t).exp;return!(Date.now()>=1e3*a)&&"admin"===e.role}catch(n){return console.log("error :>> ",n),!1}}(a)?r.a.createElement(t,e):null}}))},S=a(6),C=a(76),L=a(28),A=a.n(L),x=function(e,t){var a=document.getElementById("ul".concat(e));switch(null===a||void 0===a||a.classList.remove("indicator-pink"),null===a||void 0===a||a.classList.remove("indicator-darkblue"),null===a||void 0===a||a.classList.remove("indicator-cyan"),t){case"pink":null===a||void 0===a||a.classList.add("indicator-pink");break;case"dark-blue":null===a||void 0===a||a.classList.add("indicator-darkblue");break;case"cyan":null===a||void 0===a||a.classList.add("indicator-cyan")}},U=function(e,t){var a=document.getElementById("ul2".concat(e)),n=document.getElementById("sub-tab2".concat(e)),r=document.getElementById("sub-tab2.1".concat(e));switch(null===a||void 0===a||a.classList.remove("indicator-blue"),null===a||void 0===a||a.classList.remove("indicator-yellow"),t){case"yellow":null===a||void 0===a||a.classList.add("indicator-yellow"),null===n||void 0===n||n.classList.add("indicator-blue");break;case"blue":null===a||void 0===a||a.classList.add("indicator-blue"),null===r||void 0===r||r.classList.add("indicator-yellow")}},R=function(){var e=localStorage.getItem("title");e&&(e=e.split(","));var t=Object(n.useState)({title:e||[]}),a=Object(p.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)({chart:[{}]}),s=Object(p.a)(c,2),i=s[0],o=(s[1],function(){var e=Object(_.q)(),t=e.data;return e.loading||!t?{}:t.getUserTickets}()),m=function(){var e=Object(_.n)(),t=e.data;return e.loading||!t?{}:t.getTickets}();if(!m||!o)return{};var d=function(){var e=new WeakSet;return function(t,a){if("object"===typeof a&&null!==a){if(e.has(a))return;e.add(a)}return a}};return{title:r,myTicketsByT:function(e){for(var t=0,a=0,n=0;n<o.length;n++)switch(o[n].type){case"features":a++;break;case"bugs/errors":t++}var c=i.chart,s={labels:["Bugs/Erros","Features"],datasets:[{label:"Amount of Tickets",data:[t,a,0],backgroundColor:["#051937","#A8EB12","#5FFBF1","#E13296","#E0DF31"],borderWidth:2}]};c[e]=s,localStorage.setItem("data",JSON.stringify(c,d()));var m=r.title;m[e]="My Tickets By Type",l({title:m}),localStorage.setItem("title","".concat(m))},myTicketsByP:function(e){for(var t=0,a=0,n=0,c=0;c<o.length;c++)switch(o[c].priority){case"high":t++;break;case"medium":a++;break;case"low":n++}var s=i.chart,m={labels:["High","Medium","Low"],datasets:[{label:"Amount of Tickets",data:[t,a,n,0],backgroundColor:["#051937","#A8EB12","#5FFBF1","#E13296","#E0DF31"],borderWidth:2}]};s[e]=m,localStorage.setItem("data",JSON.stringify(s,d()));var u=r.title;u[e]="My Tickets By Priority",l({title:u}),localStorage.setItem("title","".concat(u))},myTicketsByS:function(e){for(var t=0,a=0,n=0,c=0;c<o.length;c++)switch(o[c].status){case"open":t++;break;case"closed":a++;break;case"on-hold":n++}var s=i.chart,m={labels:["Open","Closed","On Hold"],datasets:[{label:"Amount of Tickets",data:[t,a,n,0],backgroundColor:["#051937","#A8EB12","#5FFBF1","#E13296","#E0DF31"],borderWidth:2}]};s[e]=m,localStorage.setItem("data",JSON.stringify(s,d()));var u=r.title;u[e]="My Tickets By Status",l({title:u}),localStorage.setItem("title","".concat(u))},TicketsByP:function(e){for(var t=0,a=0,n=0,c=0;c<m.length;c++)switch(m[c].priority){case"high":t++;break;case"medium":a++;break;case"low":n++}var s=i.chart,o={labels:["High","Medium","Low"],datasets:[{label:"Amount of Tickets",data:[t,a,n,0],backgroundColor:["#051937","#A8EB12","#5FFBF1","#E13296","#E0DF31"],borderWidth:2}]};s[e]=o,localStorage.setItem("data",JSON.stringify(s,d()));var u=r.title;u[e]="All Tickets By Priority",l({title:u}),localStorage.setItem("title","".concat(u))},TicketsByS:function(e){for(var t=0,a=0,n=0,c=0;c<m.length;c++)switch(m[c].status){case"open":t++;break;case"closed":a++;break;case"on-hold":n++}var s=i.chart,o={labels:["Open","Closed","On Hold"],datasets:[{label:"Amount of Tickets",data:[t,a,n,0],backgroundColor:["#051937","#A8EB12","#5FFBF1","#E13296","#E0DF31"],borderWidth:2}]};s[e]=o,localStorage.setItem("data",JSON.stringify(s,d()));var u=r.title;u[e]="All Tickets By Status",l({title:u}),localStorage.setItem("title","".concat(u))},TicketsByT:function(e){for(var t=0,a=0,n=0;n<m.length;n++)switch(m[n].type){case"features":a++;break;case"bugs/errors":t++}var c=i.chart,s={labels:["Bugs/Erros","Features"],datasets:[{label:"Amount of Tickets",data:[t,a,0],backgroundColor:["#051937","#A8EB12","#5FFBF1","#E13296","#E0DF31"],borderWidth:2}]};c[e]=s,localStorage.setItem("data",JSON.stringify(c,d()));var o=r.title;o[e]="All Tickets By Type",l({title:o}),localStorage.setItem("title","".concat(o))}}},$=function(){var e=localStorage.getItem("chartType");e&&(e=e.split(","));var t=localStorage.getItem("chart");t&&(t=t.split(","));var a=localStorage.getItem("data");a&&(a=JSON.parse(a));var l=Object(n.useState)({Cards:t||[1]}),c=Object(p.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)({name:e||[]}),m=Object(p.a)(o,2),d=m[0],u=m[1],E=R(),_=E.title,b=E.myTicketsByS,f=E.myTicketsByP,v=E.myTicketsByT,g=E.TicketsByP,h=E.TicketsByS,N=E.TicketsByT;Object(n.useEffect)((function(){A.a.AutoInit();var e=document.querySelectorAll(".fixed-action-btn");A.a.FloatingActionButton.init(e,{hoverEnabled:!1}),e=document.querySelectorAll(".tooltipped"),A.a.Tooltip.init(e,{position:"left"})}));var O=function(e,t){var a=e.target.name,n=d.name;n[t]=a,a&&(u(Object(S.a)(Object(S.a)({},d),{},{name:n})),localStorage.setItem("chartType","".concat(n)))};return r.a.createElement("span",null,r.a.createElement("div",{className:"fixed-action-btn"},r.a.createElement("a",{className:"btn-floating tooltipped btn-large","data-postion":"left","data-tooltip":"ADD A CHART",style:{backgroundImage:"linear-gradient(to right, #ff758c 0%, #ff7eb3 100%)"},onClick:function(){!function(){var e=s.Cards[s.Cards.length-1],t=s.Cards.concat(e+=1);i(Object(S.a)(Object(S.a)({},s),{},{Cards:s.Cards.concat(e+=1)})),u(Object(S.a)(Object(S.a)({},d),{},{name:d.name.concat("")})),localStorage.setItem("chart","".concat(t))}()}},r.a.createElement("i",{className:"material-icons"},"insert_chart"))),r.a.createElement("div",{className:"row"},s.Cards.map((function(e,t){return r.a.createElement("div",{className:"col s11 m6 chart-lengthen",key:t},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"card-title center"},_.title[t])),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"row row-verticle-center"},r.a.createElement("div",{className:"col l12 m12 s12 centered"},"Donut"===d.name[t]&&a?r.a.createElement(C.Doughnut,{data:a[t],options:{responsive:!0}}):null,"Bar"===d.name[t]&&a?r.a.createElement(C.Bar,{data:a[t],options:{responsive:!0}}):null,"Pie"===d.name[t]&&a?r.a.createElement(C.Pie,{data:a[t],options:{responsive:!0}}):null))),r.a.createElement("div",{className:"card-tabs"},r.a.createElement("ul",{className:"tabs tabs-fixed-width"},r.a.createElement("li",{className:"tab"},r.a.createElement("a",{className:"active",href:"#tab".concat(t)},"Chart Type")),r.a.createElement("li",{className:"tab"},r.a.createElement("a",{href:"#tab2".concat(t)},"Tickets ")))),r.a.createElement("div",{className:"card-content grey lighten-4"},r.a.createElement("div",{id:"tab".concat(t)},r.a.createElement("div",{className:"card-tabs"},r.a.createElement("ul",{id:"ul".concat(t),className:"tabs tabs-fixed-width"},r.a.createElement("li",{className:"tab"},r.a.createElement("a",{className:"active",onClick:function(){x("".concat(t),"pink")}},r.a.createElement("button",{className:"card-opt",key:t,name:"Donut",onClick:function(e){return O(e,t)}},"  Donut "))),r.a.createElement("li",{className:"tab",onClick:function(){x("".concat(t),"dark-blue")}},r.a.createElement("a",null,r.a.createElement("button",{className:"card-opt",key:t,name:"Pie",onClick:function(e){O(e,t)}},"  Pie "))),r.a.createElement("li",{className:"tab",onClick:function(){x("".concat(t),"cyan")}},r.a.createElement("a",null,r.a.createElement("button",{className:"card-opt",key:t,name:"Bar",onClick:function(e){O(e,t)}},"  Bar ")))))),r.a.createElement("div",{id:"tab2".concat(t)},r.a.createElement("ul",{id:"ul2".concat(t),className:"tabs tabs-fixed-width"},r.a.createElement("li",{className:"tab my-tickets"},r.a.createElement("a",{className:"active",onClick:function(){return U("".concat(t),"yellow")},href:"#sub-tab2".concat(t)},"My Tickets")),r.a.createElement("li",{className:"tab all-tickets"},r.a.createElement("a",{href:"#sub-tab2.1".concat(t),onClick:function(){return U("".concat(t),"blue")}},"All Tickets"))),r.a.createElement("div",{className:"card-content grey lighten-4"},r.a.createElement("div",{id:"sub-tab2".concat(t)},r.a.createElement("div",{className:"card-tabs"},r.a.createElement("ul",{id:"ul2".concat(t),className:"tabs tabs-fixed-width"},r.a.createElement("li",{className:"tab"},r.a.createElement("a",{className:"active yellow-text"},r.a.createElement("button",{className:"card-opt",key:t,onClick:function(){f(t)}}," By Priority "))),r.a.createElement("li",{className:"tab"},r.a.createElement("a",null,r.a.createElement("button",{className:"card-opt",key:t,onClick:function(){b(t)}}," By Status "))),r.a.createElement("li",{className:"tab"},r.a.createElement("a",null,r.a.createElement("button",{className:"card-opt",key:t,onClick:function(){v(t)}}," By Type ")))))),r.a.createElement("div",{id:"sub-tab2.1".concat(t)},r.a.createElement("div",{className:"card-tabs"},r.a.createElement("ul",{className:"tabs tabs-fixed-width"},r.a.createElement("li",{className:"tab"},r.a.createElement("a",{className:"active"},r.a.createElement("button",{className:"card-opt",key:t,onClick:function(){return g(t)}}," By Priority "))),r.a.createElement("li",{className:"tab"},r.a.createElement("a",null,r.a.createElement("button",{className:"card-opt",key:t,onClick:function(){return h(t)}}," By Status "))),r.a.createElement("li",{className:"tab"},r.a.createElement("a",null,r.a.createElement("button",{className:"card-opt",key:t,onClick:function(){return N(t)}}," By Type ")))))))))))}))))},W=a(116),F=function(){var e=Object(_.i)(),t=e.data,a=e.loading;return Object(n.useEffect)((function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)})),a||!t?r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text noselect"},"Manage Projects")),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:""},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"Project Name")),r.a.createElement("th",{className:"nonessen"},r.a.createElement("b",null,"Description")),r.a.createElement("th",null,r.a.createElement("b",null,"Users Assigned")),r.a.createElement("th",{className:"noselect"},r.a.createElement("b",null,"Edit/Details")))),r.a.createElement("tbody",null,t.getProjectData.map?t.getProjectData.map((function(e,t,a){var n=a[t].projectid;return r.a.createElement("tr",{key:t},r.a.createElement("td",null," ",a[t].title," "),r.a.createElement("td",{className:"nonessen"}," ",a[t].description," "),r.a.createElement("td",null," ",a[t].projectid," "),r.a.createElement("td",null," ",r.a.createElement("a",{href:"/edit-project:".concat(n)},r.a.createElement("i",{className:"material-icons blue-grey-text text-darken-4 noselect"},"edit")),r.a.createElement("br",null),r.a.createElement("a",{href:"/project-details:".concat(n)},r.a.createElement("i",{className:"material-icons blue-grey-text text-darken-4 noselect"},"details"))))})):r.a.createElement("tr",null))),r.a.createElement("div",{className:"poormans-divider"}),r.a.createElement("a",{href:"/create-project"},r.a.createElement("button",{className:"btn btn-ex safe-btn center footerBtn"},"Add Project")))))},q=function(e){var t=Object(_.h)({variables:{projectid:"".concat(e.projectid)}}),a=t.data;return t.loading||!a?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})))):r.a.createElement("tr",{key:e.keyprop},r.a.createElement("td",null,a.getProjectDataById[0].title),r.a.createElement("td",{className:"nonessen"},a.getProjectDataById[0].description),r.a.createElement("td",null,r.a.createElement("a",{href:"/project-details:".concat(e.projectid)},"Details")))},K=function(){var e=Object(_.o)(),t=e.data,a=e.loading;return Object(n.useEffect)((function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)})),a||!t?r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text"},"My Projects")),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:""},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",{className:"nonessen"},"Description"))),r.a.createElement("tbody",null,t.getUserProjects.map?t.getUserProjects.map((function(e,t,a){return r.a.createElement(q,{projectid:a[t].projectid,key:t,keyprop:t})})):r.a.createElement("tr",null))))))},z=function(e){var t=Object(_.l)({variables:{id:"".concat(e.UserTickets[e.i].ticketid)}}),a=t.data;return t.loading||!a?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})))):r.a.createElement("tr",{key:e.i},0!==a.getTicketDataById.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,a.getTicketDataById[0].title),r.a.createElement("td",{className:"nonessen"},a.getTicketDataById[0].developer),r.a.createElement("td",{className:"nonessen"},a.getTicketDataById[0].priority),r.a.createElement("td",null,a.getTicketDataById[0].status),r.a.createElement("td",{className:"nonessen"},a.getTicketDataById[0].type),r.a.createElement("td",{className:"noselect"},r.a.createElement("a",{href:"/ticket-details:".concat(e.UserTickets[e.i].ticketid)},"Details"))):null)},Y=function(){var e=Object(_.q)(),t=e.data,a=e.loading,l=Object(n.useState)({}),c=Object(p.a)(l,2),s=(c[0],c[1]);if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)})),a||!t)return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text"},"Your Tickets")),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Project Title"),r.a.createElement("th",{className:"nonessen"},"Developer Assigned"),r.a.createElement("th",{className:"nonessen"},"Ticket Priority",r.a.createElement("i",{className:"material-icons noselect",onClick:function(){return function(){for(var e=t.getUserTickets,a=!1,n=0;n<e.length;n++)for(var r=n;r>0&&("high"===e[r].priority&&("medium"===e[r-1].priority||"low"===e[r-1].priority)||"medium"===e[r].priority&&"low"===e[r-1].priority);){var l=e.slice(r-1,r+1);l.reverse(),e[r-1]=l[0],e[r]=l[1],r-=1,a=!0}!a&&e&&e.reverse(),s({arr:e})}()}},"swap_vert")),r.a.createElement("th",null,"Ticket Status"),r.a.createElement("th",{className:"nonessen"},"Ticket Type"))),r.a.createElement("tbody",null,t.getUserTickets.map?t.getUserTickets.map((function(e,a){return r.a.createElement(z,{key:a,UserTickets:t.getUserTickets,i:a})})):r.a.createElement("tr",null))))))},G=function(){var e=Object(f.h)().pathname,t=e.split(":");return e=t[1]},J=function(){var e=G(),t=Object(_.j)({variables:{id:"".concat(e)}}),a=t.data;return t.loading||!a?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}))))):r.a.createElement("tbody",null,a.getProjectTickets.map((function(e,t,a){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"capitalize"}," ",a[t].title," "),r.a.createElement("td",{className:"capitalize nonessen"}," ",a[t].submitter," "),r.a.createElement("td",{className:"capitalize nonessen"}," ",a[t].developer," "),r.a.createElement("td",{className:"capitalize"}," ",a[t].status," "),r.a.createElement("td",null," ",r.a.createElement("a",{className:"noselect",href:"/ticket-details:".concat(a[t].ticketid)},"Details")," "))})))},H=function(){var e=G(),t=Object(_.k)({variables:{projectid:"".concat(e)}}),a=t.data;return t.loading||!a?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}))))):r.a.createElement("tbody",null,a.getProjectUsersById.map((function(e,t,a){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"capitalize nonessen"}," ",a[t].username," "),r.a.createElement("td",{className:"capitalize nonessen"}," ",a[t].email," "),r.a.createElement("td",{className:"capitalize"}," ",a[t].role," "))})))},V=function(){var e=Object(f.g)(),t=G(),a=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}})),l=Object(_.h)({variables:{projectid:"".concat(t)}}),c=l.data,s=l.loading;return Object(n.useEffect)((function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)})),s||!c?r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})):r.a.createElement("span",null,0===c.getProjectDataById.length?r.a.createElement(f.a,{to:"/dashboard"}):r.a.createElement("div",{className:"detailsWrapper container-fluid"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text"},"Details for Project #",t)),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Project Name"),r.a.createElement("th",null,"Project Description"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,c.getProjectDataById[0].title),r.a.createElement("td",null,c.getProjectDataById[0].description)))),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col s5 m5 l5 xl5"},r.a.createElement("span",{className:"personnel-header z-depth-2 col s12 m12 l12 xl12"},r.a.createElement("h3",{className:"white-text"},"Assigned Personnel")),r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"User Name")),r.a.createElement("th",{className:"nonessen"},r.a.createElement("b",null,"Email")),r.a.createElement("th",{className:"nonessen"},r.a.createElement("b",null,"Role")))),r.a.createElement(H,null))),r.a.createElement("span",{className:"col s5 m5 l5 xl5 offset-s2 offset-m2 offset-l2 offset-xl2"},r.a.createElement("span",{className:"tickets-header z-depth-2 col s12 m12 l12 xl12"},r.a.createElement("h3",{className:"white-text"},"Tickets for Project #",t)),r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"Title")),r.a.createElement("th",{className:"nonessen"},r.a.createElement("b",null,"Submitter")),r.a.createElement("th",{className:"nonessen"},r.a.createElement("b",null,"Developer")),r.a.createElement("th",null,r.a.createElement("b",null,"Status")))),r.a.createElement(J,null)))),r.a.createElement("div",{className:"divider"}),r.a.createElement("button",{className:"btn left footerBtn",onClick:function(){return e.goBack()}},"Go Back"),"developer"===a.role?null:r.a.createElement("a",{href:"/edit-project:".concat(t)},r.a.createElement("button",{className:"btn right footerBtn"},"Edit"))))))},Q=function(){var e=Object(f.g)(),t=G(),a=Object(_.l)({variables:{id:"".concat(t)}}),r=a.data,l=a.loading;if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)})),l)return n.createElement("div",{className:"progress"},n.createElement("div",{className:"indeterminate"}));if(!r)return n.createElement("span",null,"no data");var c=r.getTicketDataById;return n.createElement("span",null,0===c.length?n.createElement(f.a,{to:"/dashboard"}):n.createElement("div",{className:"detailsWrapper container-fluid"},n.createElement("div",{className:"center-align table-wrapper"},n.createElement("span",{className:"table-header z-depth-2"},n.createElement("h2",{className:"white-text noselect"},"Details For Ticket #",t)),n.createElement("span",{className:"table-body z-depth-1"},n.createElement("table",{className:"striped responsive"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",null,"TITLE"),n.createElement("th",null,"DESCRIPTION")),n.createElement("tr",null,n.createElement("td",{className:"capitalize"},c[0].title),n.createElement("td",{className:"capitalize"},c[0].description||"NONE")),n.createElement("tr",null,n.createElement("th",null,"ASSIGNED DEVELOPER"),n.createElement("th",null,"SUBMITTER")),n.createElement("tr",null,n.createElement("td",{className:"capitalize"},c[0].developer),n.createElement("td",{className:"capitalize"},c[0].submitter)),n.createElement("tr",null,n.createElement("th",null,"BELONGS TO PROJECT"),n.createElement("th",null,"TICKET PRIORITY")),n.createElement("tr",null,n.createElement("td",null,"#",c[0].belongsto),n.createElement("td",{className:"capitalize"},c[0].priority)),n.createElement("tr",null,n.createElement("th",null,"TICKET STATUS"),n.createElement("th",null,"TICKET TYPE")),n.createElement("tr",null,n.createElement("td",{className:"capitalize"},c[0].status),n.createElement("td",{className:"capitalize"},c[0].type||"NONE")))),n.createElement("div",{className:"divider"}),n.createElement("button",{className:"btn left footerBtn",onClick:function(){return e.goBack()}},"Go Back"),n.createElement("a",{href:"/edit-ticket:".concat(t)},n.createElement("button",{className:"btn right footerBtn"},"Edit"))))))},X=function(e,t){for(var a=!1,n=t.projectUsers,r=0;r<n.length;r++)n[r].id===e&&(a=!0);return a},Z=function(e){var t=Object(_.r)(),a=t.data,l=t.loading,c=Object(_.b)(),s=Object(p.a)(c,1)[0],i=Object(_.v)(),o=Object(p.a)(i,1)[0],m=G(),d=Object(n.useState)({assigned:e}),b=Object(p.a)(d,2);b[0],b[1];if(Object(n.useEffect)((function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)})),l||!a)return r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})));var f=function(){var t=Object(E.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!X(a.getUsers[n].id,e)){t.next=6;break}return t.next=3,o({variables:{userid:"".concat(a.getUsers[n].id),projectid:"".concat(m)}});case 3:M.toast({html:"Removed ".concat(a.getUsers[n].username)}),t.next=9;break;case 6:return t.next=8,s({variables:{projectid:"".concat(m),userid:"".concat(a.getUsers[n].id)}});case 8:M.toast({html:"Added ".concat(a.getUsers[n].username)});case 9:window.location.reload();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("td",null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{className:"browser-default"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Click to add/remove"),a.getUsers.map((function(e,t,a){return r.a.createElement("option",{key:t,onClick:function(){f(t)}},"  ",a[t].username," ")})))))},ee=function(){var e=G(),t=Object(_.k)({variables:{projectid:"".concat(e)}}),a=t.data,l=t.loading;return Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e)})),l||!a?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}))))):r.a.createElement("tbody",null,a.getProjectUsersById.map((function(e,t,a){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"capitalize"}," ",a[t].username," "),r.a.createElement("td",{className:"capitalize"}," ",a[t].email," "),r.a.createElement("td",{className:"capitalize"}," ",a[t].role," "))})),r.a.createElement("tr",null,r.a.createElement(Z,{projectUsers:a.getProjectUsersById})))},te=function(){var e=G(),t=Object(_.j)({variables:{id:"".concat(e)}}),a=t.data;return t.loading?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}))))):r.a.createElement("tbody",null,a?a.getProjectTickets.map((function(e,t,a){return r.a.createElement("tr",{key:t},r.a.createElement("td",null," ",a[t].title," "),r.a.createElement("td",null," ",a[t].submitter," "),r.a.createElement("td",null," ",a[t].developer," "),r.a.createElement("td",null," ",a[t].status," "),r.a.createElement("td",null," ",r.a.createElement("a",{href:"/edit-ticket:".concat(a[t].ticketid)}," EDIT ")," "))})):r.a.createElement("tr",null),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:"/project-add:".concat(e)},r.a.createElement("button",{className:"btn safe-btn white-text w-100"},"Add Ticket"))),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null)))},ae=function(){void 0!==window.innerWidth&&(window.innerWidth<1200&&document.getElementById("backBtn")&&(document.getElementById("backBtn").classList.add("hide"),document.getElementById("deleteBtn").classList.remove("center"),document.getElementById("deleteBtn").classList.add("left"),document.getElementById("deleteBtn").classList.add("btn-ex-40"),document.getElementById("submitBtn").classList.add("btn-ex-40")),window.innerWidth>1200&&document.getElementById("backBtn")&&(document.getElementById("backBtn").classList.remove("hide"),document.getElementById("deleteBtn").classList.add("center"),document.getElementById("deleteBtn").classList.remove("left"),document.getElementById("deleteBtn").classList.remove("btn-ex-40"),document.getElementById("submitBtn").classList.remove("btn-ex-40")))},ne=function(){var e=Object(f.g)(),t=Object(n.useState)({pTitle:"",pDesc:""}),a=Object(p.a)(t,2),l=a[0],c=a[1],s=G(),i=Object(_.h)({variables:{projectid:"".concat(s)}}),o=i.data,m=i.loading,d=Object(_.w)(),b=Object(p.a)(d,1)[0],v=Object(_.x)(),g=Object(p.a)(v,1)[0],h=Object(_.d)(),N=Object(p.a)(h,1)[0];if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e),e=document.querySelectorAll(".modal"),M.Modal.init(e),e=document.querySelectorAll(".sidenav"),M.Sidenav.init(e),ae()})),window.onresize=function(){ae()},m||!o)return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));if(0===o.getProjectDataById.length)return r.a.createElement(f.a,{to:"/manage-projects"});var O=function(){var e=Object(E.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===l.pDesc&&""===l.pTitle||(""!==l.pTitle&&(g({variables:{projectid:"".concat(s),title:"".concat(l.pTitle)}}),M.toast({html:"Project Title Successfully Changed"})),""!==l.pDesc&&(b({variables:{projectid:"".concat(s),description:"".concat(l.pDesc)}}),M.toast({html:"Project Description Successfully Changed"})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(E.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({variables:{projectid:"".concat(s)}});case 2:e.sent?window.location.reload():M.toast({html:"An Error Occured while deleting project"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"detailsWrapper container-fluid"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text"},"Edit Project #",s)),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:"responsive-table striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Project Title"),r.a.createElement("th",null,"Project Description"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"project-name",value:l.pTitle,onChange:function(e){return c(Object(S.a)(Object(S.a)({},l),{},{pTitle:e.target.value}))}}),r.a.createElement("label",{htmlFor:"project-name"},""!==l.pTitle?r.a.createElement("span",null,l.pTitle):o.getProjectDataById[0].title))),r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"project-desc",value:l.pDesc,onChange:function(e){return c(Object(S.a)(Object(S.a)({},l),{},{pDesc:e.target.value}))}}),r.a.createElement("label",{htmlFor:"project-desc"},""!==l.pDesc?r.a.createElement("span",null,l.pDesc):o.getProjectDataById[0].description)))))),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col s5 m5 l5 xl5"},r.a.createElement("span",{className:"personnel-header z-depth-2 col s12 m12 l12 xl12"},r.a.createElement("h3",{className:"white-text"},"Assigned Personnel")),r.a.createElement("table",{className:"responsive-table striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"User Name")),r.a.createElement("th",null,r.a.createElement("b",null,"Email")),r.a.createElement("th",null,r.a.createElement("b",null,"Role")))),r.a.createElement(ee,null))),r.a.createElement("span",{className:"col s5 m5 l5 xl5 offset-s2 offset-m2 offset-l2 offset-xl2"},r.a.createElement("span",{className:"tickets-header z-depth-2 col s12 m12 l12 xl12"},r.a.createElement("h3",{className:"white-text"},"Tickets for Project #",s)),r.a.createElement("table",{className:"responsive-table striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"Title")),r.a.createElement("th",null,r.a.createElement("b",null,"Submitter")),r.a.createElement("th",null,r.a.createElement("b",null,"Developer")),r.a.createElement("th",null,r.a.createElement("b",null,"Status")))),r.a.createElement(te,null)))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{id:"backBtn",className:"btn left footerBtn",onClick:function(){return e.goBack()}},"Back"),r.a.createElement("button",{id:"deleteBtn",className:"btn center danger-btn modal-trigger","data-target":"modal1"},"DELETE"),r.a.createElement("button",{id:"submitBtn",className:"btn right safe-btn",onClick:function(){O()}},"Submit"))),r.a.createElement("div",{id:"modal1",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h4",null,"ARE YOU SURE YOU WANT TO DELETE PROJECT #",s)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"modal-close waves-effect waves-green btn-flat"},"CANCEL"),r.a.createElement("button",{className:"modal-close red white-text waves-effect waves-red btn-flat",onClick:function(){return j()}},"DELETE")))))},re=function(e){var t=G(),a=e.developer,l=e.submitter,c=Object(_.z)(),s=Object(p.a)(c,1)[0],i=Object(n.useState)({dev:""}),o=Object(p.a)(i,2),m=o[0],d=o[1],b=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}}));Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e)}));var f=Object(_.r)(),v=f.data;if(f.loading||!v)return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));var g=function(){var e=Object(E.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("admin"!==b.role&&"project-manager"!==b.role){e.next=8;break}return n=a.target,r=n.name,d(Object(S.a)(Object(S.a)({},m),{},{dev:r})),e.next=6,s({variables:{ticketid:"".concat(t),developer:"".concat(r)}});case 6:e.sent&&M.toast({html:"Ticket Developer successfully changed"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("tr",null,r.a.createElement("td",null,"admin"===b.role||"project-manager"===b.role?r.a.createElement("span",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdowndev"},""!==m.dev?r.a.createElement("span",null,m.dev):r.a.createElement("span",null,a)||r.a.createElement("span",null,"No Status")),r.a.createElement("ul",{id:"dropdowndev",className:"dropdown-content"},v.getUsers.map((function(e,t,a){return r.a.createElement("li",{key:t},r.a.createElement("button",{className:"btnDropdown",name:"".concat(a[t].username),onClick:function(e){return g(e)}},a[t].username))})))):r.a.createElement("span",null,a)),r.a.createElement("td",null,r.a.createElement("span",null,l)))},le=function(e){var t=Object(_.h)({variables:{projectid:e.projectid}}),a=t.data;return t.loading||!a?r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})):r.a.createElement("span",null,a.getProjectDataById[0].title)},ce=function(){var e=G(),t=Object(_.m)({variables:{ticketid:"".concat(e)}}),a=t.data;return t.loading||!a?r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})):r.a.createElement("span",null,r.a.createElement(le,{projectid:"".concat(a.getTicketProject[0].projectid)}))},se=function(e){var t=Object(_.i)(),a=t.data,l=t.loading,c=Object(_.B)(),s=Object(p.a)(c,1)[0],i=Object(n.useState)({project:""}),o=Object(p.a)(i,2),m=o[0],d=o[1],b=G();if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e);e=document.querySelectorAll(".modal");M.Modal.init(e)})),l||!a)return r.a.createElement("td",null,r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"})));var f=function(){var e=Object(E.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.name,d(Object(S.a)(Object(S.a)({},m),{},{project:"".concat(n)})),e.next=5,s({variables:{ticketid:b,projectid:n}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown","data-target":"dropdownassign"},""!==m.project?r.a.createElement("span",null,m.project):r.a.createElement(ce,null)),r.a.createElement("ul",{id:"dropdownassign",className:"dropdown-content"},a.getProjectData.map((function(e,t,a){return r.a.createElement("li",{key:t},r.a.createElement("button",{className:"btnDropdown",onClick:function(e){return f(e)},name:"".concat(a[t].projectid)},a[t].title))}))))},ie=function(){var e=Object(f.g)(),t=G(),a=Object(_.l)({variables:{id:"".concat(t)}}),l=a.data,c=a.loading,s=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}})),i=Object(_.C)(),o=Object(p.a)(i,1)[0],m=Object(_.E)(),d=Object(p.a)(m,1)[0],b=Object(_.D)(),v=Object(p.a)(b,1)[0],g=Object(_.y)(),N=Object(p.a)(g,1)[0],O=Object(_.A)(),j=Object(p.a)(O,1)[0],y=Object(_.e)(),k=Object(p.a)(y,1)[0],w=Object(n.useState)({status:"",type:"",title:"",description:"",priority:"",new:!1}),T=Object(p.a)(w,2),D=T[0],P=T[1];if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");A.a.Dropdown.init(e),e=document.querySelectorAll(".modal"),A.a.Modal.init(e),e=document.querySelectorAll(".sidenav"),A.a.Sidenav.init(e),ae()})),window.onresize=function(){ae()},c||!l)return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));if(0===l.getTicketDataById.length)return r.a.createElement(f.a,{to:"/manage-projects"});var B=function(){var e=Object(E.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target,r=n.name,P(Object(S.a)(Object(S.a)({},D),{},{status:r})),e.next=5,o({variables:{ticketid:"".concat(t),status:"".concat(r)}});case 5:A.a.toast({html:"Ticket Status successfully changed"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(E.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target,r=n.name,P(Object(S.a)(Object(S.a)({},D),{},{type:r})),e.next=5,d({variables:{ticketid:"".concat(t),type:"".concat(r)}});case 5:A.a.toast({html:"Ticket Type successfully changed"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(E.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target,r=n.name,P(Object(S.a)(Object(S.a)({},D),{},{priority:r})),e.next=5,j({variables:{ticketid:"".concat(t),priority:"".concat(r)}});case 5:A.a.toast({html:"Ticket Priority successfully changed"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(E.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==D.title||""!==D.description){e.next=6;break}""===D.title&&document.getElementById("title").classList.add("invalid"),""===D.description&&document.getElementById("desc").classList.add("invalid"),A.a.toast({html:"Not Enough Data Provided"}),e.next=16;break;case 6:if(P(Object(S.a)(Object(S.a)({},D),{},{new:!0})),""===D.title){e.next=11;break}return e.next=10,v({variables:{ticketid:"".concat(t),title:"".concat(D.title)}});case 10:A.a.toast({html:"Ticket Title successfully changed"});case 11:if(""===D.description){e.next=15;break}return e.next=14,N({variables:{ticketid:"".concat(t),desc:"".concat(D.description)}});case 14:A.a.toast({html:"Ticket Description successfully changed"});case 15:window.location.reload();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(E.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({variables:{ticketid:"".concat(t)}});case 2:window.location.replace("/dashboard");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text noselect"},"Edit Ticket #",t)),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:"striped responsive"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TITLE"),r.a.createElement("th",null,"DESCRIPTION")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"title",className:"validate",value:D.title,onChange:function(e){return P(Object(S.a)(Object(S.a)({},D),{},{title:e.target.value}))}}),r.a.createElement("label",{htmlFor:"title"},D.new?r.a.createElement("span",null,D.title):l.getTicketDataById[0].title||r.a.createElement("span",null,"No Title")),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a title"}))),r.a.createElement("td",null,r.a.createElement("form",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"desc",className:"validate",value:D.description,onChange:function(e){return P(Object(S.a)(Object(S.a)({},D),{},{description:e.target.value}))}}),r.a.createElement("label",{htmlFor:"desc"},D.new?r.a.createElement("span",null,D.description):l.getTicketDataById[0].description||r.a.createElement("span",null,"No description")),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a Description"}))))),r.a.createElement("tr",null,r.a.createElement("th",null,"ASSIGNED DEVELOPER"),r.a.createElement("th",null,"SUBMITTER")),r.a.createElement(re,{developer:"".concat(l.getTicketDataById[0].developer),submitter:"".concat(l.getTicketDataById[0].submitter)}),r.a.createElement("tr",null,r.a.createElement("th",null,"BELONGS TO PROJECT"),r.a.createElement("th",null,"TICKET PRIORITY")),r.a.createElement("tr",null,"developer"===s.role?r.a.createElement("td",null,l.getTicketDataById[0].title):r.a.createElement(se,{title:"".concat(l.getTicketDataById[0].title),id:t}),r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdownpriority"},""!==D.priority?r.a.createElement("span",null,D.priority):l.getTicketDataById[0].priority||r.a.createElement("span",null,"No Status")),r.a.createElement("ul",{id:"dropdownpriority",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"low",onClick:function(e){return M(e)}},"Low")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"medium",onClick:function(e){return M(e)}},"Medium")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"high",onClick:function(e){return M(e)}},"High"))))),r.a.createElement("tr",null,r.a.createElement("th",null,"TICKET STATUS"),r.a.createElement("th",null,"TICKET TYPE")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdownstatus"},""!==D.status?r.a.createElement("span",null,D.status):l.getTicketDataById[0].status||r.a.createElement("span",null,"No Status")),r.a.createElement("ul",{id:"dropdownstatus",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"open",onClick:function(e){return B(e)}},"Open")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"closed",onClick:function(e){return B(e)}},"Closed")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"on-hold",onClick:function(e){return B(e)}},"On Hold")))),r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdowntype"},""!==D.type?r.a.createElement("span",null,D.type):l.getTicketDataById[0].type||r.a.createElement("span",null,"No Type")),r.a.createElement("ul",{id:"dropdowntype",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"bugs/errors",onClick:function(e){return I(e)}},"Bugs/Errors")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"features",onClick:function(e){return I(e)}},"Features"))))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{id:"backBtn",className:"btn left footerBtn",onClick:function(){return e.goBack()}},"Back"),r.a.createElement("button",{id:"deleteBtn",className:"btn center danger-btn modal-trigger","data-target":"modal1"},"DELETE"),r.a.createElement("button",{id:"submitBtn",className:"btn right safe-btn",onClick:function(){return C()}},"Submit"))),r.a.createElement("div",{id:"modal1",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h4",null,"ARE YOU SURE YOU WANT TO DELETE TICKET #",t)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"modal-close waves-effect waves-green btn-flat"},"CANCEL"),r.a.createElement("button",{className:"modal-close red white-text waves-effect waves-red btn-flat",onClick:function(){return L()}},"DELETE")))))},oe=function(){var e=Object(_.r)(),t=e.data;if(!e.loading&&t)return{UsersArray:t.getUsers}},me=function(){var e=oe(),t=Object(f.g)(),a=G(),l=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}})),c=Object(_.c)(),s=Object(p.a)(c,1)[0],i=Object(n.useState)({status:"",type:"",title:"",description:"",priority:"",dev:""}),o=Object(p.a)(i,2),m=o[0],d=o[1];if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e),e=document.querySelectorAll(".dropdown-trigger"),M.Dropdown.init(e),e=document.querySelectorAll(".sidenav"),M.Sidenav.init(e)})),!e)return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));var b=function(){var e=Object(E.a)(u.a.mark((function e(){var n,r,c,i,o,d,E,p,_,b,f,v,g,h,N,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m.status&&""!==m.type&&""!==m.title&&""!==m.description&&""!==m.priority){e.next=18;break}M.toast({html:"Missing Data"}),null===(n=document.getElementById("dev-hpr-br"))||void 0===n||n.classList.add("hide"),null===(r=document.getElementById("dev-hpr"))||void 0===r||r.classList.add("hide"),null===(c=document.getElementById("status-hpr-br"))||void 0===c||c.classList.add("hide"),null===(i=document.getElementById("status-hpr"))||void 0===i||i.classList.add("hide"),null===(o=document.getElementById("type-hpr-br"))||void 0===o||o.classList.add("hide"),null===(d=document.getElementById("type-hpr"))||void 0===d||d.classList.add("hide"),null===(E=document.getElementById("pri-hpr-br"))||void 0===E||E.classList.add("hide"),null===(p=document.getElementById("pri-hpr"))||void 0===p||p.classList.add("hide"),""===m.title&&document.getElementById("title").classList.add("invalid"),""===m.description&&document.getElementById("desc").classList.add("invalid"),""===m.type&&(null===(_=document.getElementById("type-hpr-br"))||void 0===_||_.classList.toggle("hide"),null===(b=document.getElementById("type-hpr"))||void 0===b||b.classList.toggle("hide")),""===m.status&&(null===(f=document.getElementById("status-hpr-br"))||void 0===f||f.classList.toggle("hide"),null===(v=document.getElementById("status-hpr"))||void 0===v||v.classList.toggle("hide")),""===m.dev&&(null===(g=document.getElementById("dev-hpr-br"))||void 0===g||g.classList.toggle("hide"),null===(h=document.getElementById("dev-hpr"))||void 0===h||h.classList.toggle("hide")),""===m.priority&&(null===(N=document.getElementById("pri-hpr-br"))||void 0===N||N.classList.toggle("hide"),null===(O=document.getElementById("pri-hpr"))||void 0===O||O.classList.toggle("hide")),e.next=21;break;case 18:return e.next=20,s({variables:{title:m.title,description:m.description,belongsTo:"".concat(a),developer:m.dev,priority:m.priority,status:m.status,submitter:l.username,type:m.type}});case 20:t.push({pathname:"/manage"});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){var t=e.target.name;d(Object(S.a)(Object(S.a)({},m),{},{type:t}))},g=function(e){var t=e.target.name;d(Object(S.a)(Object(S.a)({},m),{},{status:t}))},N=function(e){var t=e.target.name;d(Object(S.a)(Object(S.a)({},m),{},{priority:t}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text noselect"},"Create Ticket")),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:"striped responsive"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TITLE"),r.a.createElement("th",null,"DESCRIPTION")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"title",className:"validate",value:m.title,onChange:function(e){return d(Object(S.a)(Object(S.a)({},m),{},{title:e.target.value}))}}),r.a.createElement("label",{htmlFor:"title"},"ADD A TITLE"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a title"}))),r.a.createElement("td",null,r.a.createElement("form",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"desc",className:"validate",value:m.description,onChange:function(e){return d(Object(S.a)(Object(S.a)({},m),{},{description:e.target.value}))}}),r.a.createElement("label",{htmlFor:"desc"},"ADD A DESCRIPTION"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a Description"}))))),r.a.createElement("tr",null,r.a.createElement("th",null,"ASSIGN A DEVELOPER"),r.a.createElement("th",null,"SUBMITTER")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown","data-target":"dropdownDev"},""!==m.dev?r.a.createElement("span",null,m.dev):r.a.createElement("span",null,"Assign a Developer")),r.a.createElement("ul",{id:"dropdownDev",className:"dropdown-content"},e.UsersArray.map((function(e,t,a){return r.a.createElement("li",{key:t},r.a.createElement("button",{className:"btnDropdown",name:"".concat(a[t].username),onClick:function(e){return function(e){var t=e.target.name;d(Object(S.a)(Object(S.a)({},m),{},{dev:t}))}(e)}},a[t].username))}))),r.a.createElement("br",{className:"helper-br hide",id:"dev-hpr-br"}),r.a.createElement("span",{className:"fake-helper-text red-text hide",id:"dev-hpr"},"Please Assign a Developer")),r.a.createElement("td",null,l.username," (YOU)")),r.a.createElement("tr",null,r.a.createElement("th",null,"BELONGS TO PROJECT"),r.a.createElement("th",null,"TICKET PRIORITY")),r.a.createElement("tr",null,r.a.createElement("td",null,"#",a),r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdownpriority"},""!==m.priority?r.a.createElement("span",null,m.priority):r.a.createElement("span",null,"Ticket Priority")),r.a.createElement("ul",{id:"dropdownpriority",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"low",onClick:function(e){return N(e)}},"Low")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"medium",onClick:function(e){return N(e)}},"Medium")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"high",onClick:function(e){return N(e)}},"High"))),r.a.createElement("br",{className:"helper-br hide",id:"pri-hpr-br"}),r.a.createElement("span",{className:"fake-helper-text red-text hide",id:"pri-hpr"},"Please Assign a Ticket Priority"))),r.a.createElement("tr",null,r.a.createElement("th",null,"TICKET STATUS"),r.a.createElement("th",null,"TICKET TYPE")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdownstatus"},""!==m.status?r.a.createElement("span",null,m.status):r.a.createElement("span",null,"Set Ticket Status")),r.a.createElement("ul",{id:"dropdownstatus",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"open",onClick:function(e){return g(e)}},"Open")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"closed",onClick:function(e){return g(e)}},"Closed")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"on-hold",onClick:function(e){return g(e)}},"On Hold"))),r.a.createElement("br",{className:"helper-br hide",id:"status-hpr-br"}),r.a.createElement("span",{className:"fake-helper-text red-text hide",id:"status-hpr"},"Please Select a Ticket Status")),r.a.createElement("td",null,r.a.createElement("a",{className:"dropdown-trigger btn manage-dropdown",href:"#!","data-target":"dropdowntype"},""!==m.type?r.a.createElement("span",null,m.type):r.a.createElement("span",null,"Set Ticket Type")),r.a.createElement("ul",{id:"dropdowntype",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"bugs-errors",onClick:function(e){return v(e)}},"Bugs/Errors")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnDropdown",name:"features",onClick:function(e){return v(e)}},"Features"))),r.a.createElement("br",{className:"helper-br hide",id:"type-hpr-br"}),r.a.createElement("span",{className:"fake-helper-text red-text hide",id:"type-hpr"},"Please Select a Ticket Type"))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn left footerBtn modal-trigger","data-target":"cancelModal"},"Back"),r.a.createElement("button",{className:"btn right safe-btn",onClick:function(){return b()}},"Submit"))),r.a.createElement("div",{id:"cancelModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h4",null,"ARE YOU SURE YOU WANT TO CANCEL?"),r.a.createElement("h6",null,"All of your Data will be erased")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"modal-close waves-effect waves-green btn-flat"},"Stay On Page"),r.a.createElement("button",{className:"modal-close red white-text waves-effect waves-red btn-flat",onClick:function(){return t.goBack()}},"CANCEL")))))},de=function(){var e=Object(_.r)(),t=e.data,a=e.loading,l=Object(f.g)(),c=oe(),s=Object(_.a)(),i=Object(p.a)(s,1)[0],o=Object(n.useState)({title:"",description:"",userids:[],usernames:[],userString:""}),m=Object(p.a)(o,2),d=m[0],b=m[1];if(Object(n.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e)})),a||!t||!c)return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));var v=function(){var e=Object(E.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d.title&&""!==d.description){e.next=6;break}""===d.title&&(null===(t=document.getElementById("title"))||void 0===t||t.classList.add("invalid")),""===d.description&&(null===(a=document.getElementById("desc"))||void 0===a||a.classList.add("invalid")),M.toast({html:"Missing Data"}),e.next=10;break;case 6:return e.next=8,i({variables:{description:d.description,title:d.title,users:d.userString}});case 8:M.toast({html:"Project added successfully"}),window.location.replace("/manage-projects");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(E.a)(u.a.mark((function e(t,a){var n,r,l,c,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d.userids,r=d.usernames,0===n.indexOf(t)?n.shift():-1!==n.indexOf(t)?(l=n.slice(0,n.indexOf(t)),c=n.slice(n.indexOf(t),n.length),n=(n=l).concat(c)):n=n.concat(t),0===r.indexOf(a)?r.shift():-1!==r.indexOf(a)?(s=r.slice(0,r.indexOf(a)),i=r.slice(r.indexOf(a)+1,r.length),r=(r=s).concat(i)):r=r.concat(a),o=d.userString+" ".concat(n),b(Object(S.a)(Object(S.a)({},d),{},{userids:n,usernames:r})),b(Object(S.a)(Object(S.a)({},d),{},{userString:o}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"detailsWrapper container-fluid"},r.a.createElement("div",{className:"center-align table-wrapper"},r.a.createElement("span",{className:"table-header z-depth-2"},r.a.createElement("h2",{className:"white-text noselect"},"Create Project")),r.a.createElement("span",{className:"table-body z-depth-1"},r.a.createElement("table",{className:"striped responsive-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TITLE"),r.a.createElement("th",null,"DESCRIPTION"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"title",className:"validate",value:d.title,onChange:function(e){return b(Object(S.a)(Object(S.a)({},d),{},{title:e.target.value}))}}),r.a.createElement("label",{htmlFor:"title"},"ADD A TITLE"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a title"}))),r.a.createElement("td",null,r.a.createElement("form",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"desc",className:"validate",value:d.description,onChange:function(e){return b(Object(S.a)(Object(S.a)({},d),{},{description:e.target.value}))}}),r.a.createElement("label",{htmlFor:"desc"},"ADD A DESCRIPTION"),r.a.createElement("span",{className:"helper-text","data-error":"Please enter a Description"}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col s5 m5 l5 xl5"},r.a.createElement("span",{className:"personnel-header z-depth-2 col s12 m12 l12 xl12"},r.a.createElement("h3",{className:"white-text"},"Assign Personnel")),r.a.createElement("table",{className:"responsive-table striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"centered"},r.a.createElement("b",null,"User Name")))),r.a.createElement("tbody",null,d.usernames.map((function(e,t){return r.a.createElement("tr",{key:t},d.usernames[t])})))),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{className:"browser-default"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Click to add/remove"),t.getUsers.map((function(e,t,a){return r.a.createElement("option",{key:t,onClick:function(){g(a[t].id,a[t].username)}},"  ",a[t].username," ")})))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn left footerBtn modal-trigger modal-trigger","data-target":"cancelModal"},"Back"),r.a.createElement("button",{className:"btn right safe-btn",onClick:function(){return v()}},"Submit"))),r.a.createElement("div",{id:"cancelModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h4",null,"ARE YOU SURE YOU WANT TO CANCEL?"),r.a.createElement("h6",null,"All of your Data will be erased")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"modal-close waves-effect waves-green btn-flat"},"Stay On Page"),r.a.createElement("button",{className:"modal-close red white-text waves-effect waves-red btn-flat",onClick:function(){return l.goBack()}},"CANCEL"))))))},ue=function(e){var t=e.component,a=e.user,n=Object(P.a)(e,["component","user"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return function(e){var t=m();if(!t)return!1;try{var a=T()(t).exp;return!(Date.now()>=1e3*a)&&("project-manager"===e.role||"admin"===e.role)}catch(n){return console.log("error :>> ",n),!1}}(a)?r.a.createElement(t,e):null}}))},Ee=function(){var e=Object(h.c)((function(e){return e.user||{id:0,email:"",role:"",username:"",firstname:"",lastname:""}}));return r.a.createElement(f.d,null,r.a.createElement(B,{exact:!0,path:"/dashboard",component:$}),r.a.createElement(I,{user:e,exact:!0,path:"/manage-roles",component:W.a}),r.a.createElement(ue,{user:e,exact:!0,path:"/manage-projects",component:F}),r.a.createElement(B,{exact:!0,path:"/projects",component:K}),r.a.createElement(ue,{user:e,exact:!0,path:"/create-project",component:de}),r.a.createElement(ue,{user:e,exact:!0,path:"/edit-project:id",component:ne}),r.a.createElement(ue,{user:e,exact:!0,path:"/project-add:id",component:me}),r.a.createElement(B,{path:"/project-details:id",component:V}),r.a.createElement(B,{path:"/ticket-details:id",component:Q}),r.a.createElement(B,{path:"/edit-ticket:id",component:ie}),r.a.createElement(B,{exact:!0,path:"/tickets",component:Y}),r.a.createElement(f.b,{render:function(){return r.a.createElement(f.a,{to:"/dashboard"})}}))},pe=function(){var e=Object(h.b)(),t=Object(_.p)(),a=t.data,n=t.loading,l=t.error;if(n)return r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"})));if(!l&&a){var c=a.getUser;D()&&c&&e(function(e){return{type:"ADD_USER_INFO",user:e}}(c))}return r.a.createElement(b.a,null,r.a.createElement("div",{className:"App"},D()?r.a.createElement(k,{children:r.a.createElement(Ee,null)}):r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/login",component:v}),r.a.createElement(f.b,{exact:!0,path:"/register",component:g}),r.a.createElement(f.b,{render:function(){return r.a.createElement(f.a,{to:"/login"})}}))))},_e=(a(237),a(238),a(239),a(240),a(241),function(){var e=Object(n.useState)(!0),t=Object(p.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("https://murmuring-wildwood-31770.herokuapp.com/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(E.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n=a.accessToken,o(n),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("err :>> ",e)}));var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)}),[]),a?r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))):r.a.createElement(pe,null)}),be=a(41),fe=a(119),ve=a(121),ge=a(118),he=a(25),Ne=a(21),Oe=a(120),je=a(71),ye={user:{id:0,email:"",role:"",username:"",firstname:"",lastname:""},project:{title:"",description:"",projectid:0}},ke=Object(je.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_INFO":return Object(S.a)(Object(S.a)({},e),{},{user:t.user});case"PASS_PROJECT_INFO":return Object(S.a)(Object(S.a)({},e),{},{project:t.project});default:return e}})),we=new fe.a({}),Te=new he.a((function(e,t){return new Ne.a((function(a){var n;return Promise.resolve(e).then((function(e){var t=m();e.setContext({headers:{authorization:t?"bearer ".concat(t):""}})})).then((function(){n=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){n&&n.unsubscribe()}}))})),De=new be.a({link:he.a.from([new Oe.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=m();if(!e)return!0;try{var t=T()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},fetchAccessToken:function(){return fetch("https://murmuring-wildwood-31770.herokuapp.com/refresh_token",{method:"POST",credentials:"include"})},handleFetch:function(e){o(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(ge.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.log(t),console.log(a)})),Te,new ve.a({uri:"https://murmuring-wildwood-31770.herokuapp.com/graphql",credentials:"include"})]),cache:we});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{client:De},r.a.createElement(h.a,{store:ke},r.a.createElement(_e,null)))),document.getElementById("root"))},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return $})),a.d(t,"b",(function(){return F})),a.d(t,"c",(function(){return K})),a.d(t,"d",(function(){return Y})),a.d(t,"e",(function(){return J})),a.d(t,"f",(function(){return V})),a.d(t,"g",(function(){return X})),a.d(t,"i",(function(){return ee})),a.d(t,"h",(function(){return ae})),a.d(t,"k",(function(){return re})),a.d(t,"l",(function(){return ce})),a.d(t,"m",(function(){return ie})),a.d(t,"n",(function(){return me})),a.d(t,"p",(function(){return ue})),a.d(t,"o",(function(){return pe})),a.d(t,"q",(function(){return be})),a.d(t,"s",(function(){return ve})),a.d(t,"t",(function(){return he})),a.d(t,"j",(function(){return Oe})),a.d(t,"u",(function(){return ye})),a.d(t,"v",(function(){return we})),a.d(t,"w",(function(){return De})),a.d(t,"x",(function(){return Be})),a.d(t,"y",(function(){return Se})),a.d(t,"z",(function(){return Ce})),a.d(t,"A",(function(){return Ae})),a.d(t,"B",(function(){return Ue})),a.d(t,"C",(function(){return $e})),a.d(t,"D",(function(){return Fe})),a.d(t,"E",(function(){return Ke})),a.d(t,"F",(function(){return Ye})),a.d(t,"r",(function(){return Je}));var n=a(11),r=a(10),l=a.n(r),c=a(9);function s(){var e=Object(n.a)(["\n    query getUsers {\n  getUsers {\n    id\n    email\n    role\n    username\n    firstname\n    lastname\n  }\n}\n    "]);return s=function(){return e},e}function i(){var e=Object(n.a)(["\n    mutation updateRole($role: String!, $id: String!) {\n  updateRole(role: $role, id: $id)\n}\n    "]);return i=function(){return e},e}function o(){var e=Object(n.a)(["\n    mutation setTicketType($ticketid: String!, $type: String!) {\n  setTicketType(ticketid: $ticketid, type: $type)\n}\n    "]);return o=function(){return e},e}function m(){var e=Object(n.a)(["\n    mutation setTicketTitle($ticketid: String!, $title: String!) {\n  setTicketTitle(ticketid: $ticketid, title: $title)\n}\n    "]);return m=function(){return e},e}function d(){var e=Object(n.a)(["\n    mutation setTicketStatus($ticketid: String!, $status: String!) {\n  setTicketStatus(ticketid: $ticketid, status: $status)\n}\n    "]);return d=function(){return e},e}function u(){var e=Object(n.a)(["\n    mutation setTicketProject($ticketid: String!, $projectid: String!) {\n  setTicketProject(ticketid: $ticketid, projectid: $projectid)\n}\n    "]);return u=function(){return e},e}function E(){var e=Object(n.a)(["\n    mutation setTicketPriority($ticketid: String!, $priority: String!) {\n  setTicketPriority(ticketid: $ticketid, priority: $priority)\n}\n    "]);return E=function(){return e},e}function p(){var e=Object(n.a)(["\n    mutation setTicketDeveloper($ticketid: String!, $developer: String!) {\n  setTicketDeveloper(ticketid: $ticketid, developer: $developer)\n}\n    "]);return p=function(){return e},e}function _(){var e=Object(n.a)(["\n    mutation setTicketDesc($ticketid: String!, $desc: String!) {\n  setTicketDesc(ticketid: $ticketid, desc: $desc)\n}\n    "]);return _=function(){return e},e}function b(){var e=Object(n.a)(["\n    mutation setProjectTitle($projectid: String!, $title: String!) {\n  setProjectTitle(projectid: $projectid, title: $title)\n}\n    "]);return b=function(){return e},e}function f(){var e=Object(n.a)(["\n    mutation setProjectDesc($projectid: String!, $description: String!) {\n  setProjectDesc(projectid: $projectid, description: $description)\n}\n    "]);return f=function(){return e},e}function v(){var e=Object(n.a)(["\n    mutation removeProjectUser($userid: String!, $projectid: String!) {\n  removeProjectUser(userid: $userid, projectid: $projectid)\n}\n    "]);return v=function(){return e},e}function g(){var e=Object(n.a)(["\n    mutation Register($email: String!, $password: String!, $username: String!, $role: String!, $firstname: String!, $lastname: String!) {\n  register(email: $email, password: $password, username: $username, role: $role, firstname: $firstname, lastname: $lastname)\n}\n    "]);return g=function(){return e},e}function h(){var e=Object(n.a)(["\n    query getProjectTickets($id: String!) {\n  getProjectTickets(id: $id) {\n    ticketid\n    title\n    description\n    submitter\n    developer\n    status\n  }\n}\n    "]);return h=function(){return e},e}function N(){var e=Object(n.a)(["\n    mutation logout {\n  logout\n}\n    "]);return N=function(){return e},e}function O(){var e=Object(n.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    accessToken\n  }\n}\n    "]);return O=function(){return e},e}function j(){var e=Object(n.a)(["\n    query getUserTickets {\n  getUserTickets {\n    ticketid\n    userid\n    id\n    priority\n    type\n    status\n  }\n}\n    "]);return j=function(){return e},e}function y(){var e=Object(n.a)(["\n    query getUserProjects {\n  getUserProjects {\n    projectid\n    userid\n    id\n  }\n}\n    "]);return y=function(){return e},e}function k(){var e=Object(n.a)(["\n    query getUser {\n  getUser {\n    id\n    email\n    role\n    username\n    firstname\n    lastname\n  }\n}\n    "]);return k=function(){return e},e}function w(){var e=Object(n.a)(["\n    query getTickets {\n  getTickets {\n    ticketid\n    priority\n    title\n    description\n    type\n    submitter\n    developer\n    status\n    belongsto\n  }\n}\n    "]);return w=function(){return e},e}function T(){var e=Object(n.a)(["\n    query getTicketProject($ticketid: String!) {\n  getTicketProject(ticketid: $ticketid) {\n    ticketid\n    projectid\n  }\n}\n    "]);return T=function(){return e},e}function D(){var e=Object(n.a)(["\n    query getTicketDataById($id: String!) {\n  getTicketDataById(id: $id) {\n    ticketid\n    priority\n    title\n    description\n    type\n    submitter\n    developer\n    status\n    belongsto\n  }\n}\n    "]);return D=function(){return e},e}function P(){var e=Object(n.a)(["\n    query getProjectUsersById($projectid: String!) {\n  getProjectUsersById(projectid: $projectid) {\n    id\n    email\n    role\n    username\n  }\n}\n    "]);return P=function(){return e},e}function B(){var e=Object(n.a)(["\n    query getProjectDataById($projectid: String!) {\n  getProjectDataById(projectid: $projectid) {\n    title\n    projectid\n    description\n  }\n}\n    "]);return B=function(){return e},e}function I(){var e=Object(n.a)(["\n    query getProjectData {\n  getProjectData {\n    title\n    description\n    projectid\n  }\n}\n    "]);return I=function(){return e},e}function S(){var e=Object(n.a)(["\n    mutation demoLogin($role: String!) {\n  demoLogin(role: $role) {\n    accessToken\n  }\n}\n    "]);return S=function(){return e},e}function M(){var e=Object(n.a)(["\n    mutation deleteUser($userid: String!) {\n  deleteUser(userid: $userid)\n}\n    "]);return M=function(){return e},e}function C(){var e=Object(n.a)(["\n    mutation deleteTicket($ticketid: String!) {\n  deleteTicket(ticketid: $ticketid)\n}\n    "]);return C=function(){return e},e}function L(){var e=Object(n.a)(["\n    mutation deleteProject($projectid: String!) {\n  deleteProject(projectid: $projectid)\n}\n    "]);return L=function(){return e},e}function A(){var e=Object(n.a)(["\n    mutation createTicket($priority: String!, $title: String!, $description: String!, $type: String!, $submitter: String!, $developer: String!, $status: String!, $belongsTo: String!) {\n  createTicket(priority: $priority, title: $title, description: $description, type: $type, submitter: $submitter, developer: $developer, status: $status, belongsTo: $belongsTo)\n}\n    "]);return A=function(){return e},e}function x(){var e=Object(n.a)(["\n    mutation addProjectUser($projectid: String!, $userid: String!) {\n  addProjectUser(projectid: $projectid, userid: $userid)\n}\n    "]);return x=function(){return e},e}function U(){var e=Object(n.a)(["\n    mutation addProject($title: String!, $description: String!, $users: String!) {\n  addProject(title: $title, description: $description, users: $users)\n}\n    "]);return U=function(){return e},e}var R=l()(U());function $(e){return c.b(R,e)}var W=l()(x());function F(e){return c.b(W,e)}var q=l()(A());function K(e){return c.b(q,e)}var z=l()(L());function Y(e){return c.b(z,e)}var G=l()(C());function J(e){return c.b(G,e)}var H=l()(M());function V(e){return c.b(H,e)}var Q=l()(S());function X(e){return c.b(Q,e)}var Z=l()(I());function ee(e){return c.c(Z,e)}var te=l()(B());function ae(e){return c.c(te,e)}var ne=l()(P());function re(e){return c.c(ne,e)}var le=l()(D());function ce(e){return c.c(le,e)}var se=l()(T());function ie(e){return c.c(se,e)}var oe=l()(w());function me(e){return c.c(oe,e)}var de=l()(k());function ue(e){return c.c(de,e)}var Ee=l()(y());function pe(e){return c.c(Ee,e)}var _e=l()(j());function be(e){return c.c(_e,e)}var fe=l()(O());function ve(e){return c.b(fe,e)}var ge=l()(N());function he(e){return c.b(ge,e)}var Ne=l()(h());function Oe(e){return c.c(Ne,e)}var je=l()(g());function ye(e){return c.b(je,e)}var ke=l()(v());function we(e){return c.b(ke,e)}var Te=l()(f());function De(e){return c.b(Te,e)}var Pe=l()(b());function Be(e){return c.b(Pe,e)}var Ie=l()(_());function Se(e){return c.b(Ie,e)}var Me=l()(p());function Ce(e){return c.b(Me,e)}var Le=l()(E());function Ae(e){return c.b(Le,e)}var xe=l()(u());function Ue(e){return c.b(xe,e)}var Re=l()(d());function $e(e){return c.b(Re,e)}var We=l()(m());function Fe(e){return c.b(We,e)}var qe=l()(o());function Ke(e){return c.b(qe,e)}var ze=l()(i());function Ye(e){return c.b(ze,e)}var Ge=l()(s());function Je(e){return c.c(Ge,e)}},72:function(e,t,a){e.exports=a.p+"static/media/unnamed.a812fbf5.webp"}},[[122,1,2]]]);
//# sourceMappingURL=main.a85e4287.chunk.js.map